# Core Bluetooth features
CONFIG_BT=y
CONFIG_BT_OBSERVER=y
CONFIG_BT_PERIPHERAL=y      # <-- Required for advertising
CONFIG_BT_BROADCASTER=y     # <-- Also required for bt_le_adv_*
#CONFIG_BT_EXT_ADV=y
CONFIG_BT_MAX_CONN=2

CONFIG_BT_L2CAP_TX_BUF_COUNT=30
CONFIG_BT_BUF_ACL_RX_COUNT=30
CONFIG_BT_BUF_EVT_RX_COUNT=10
CONFIG_BT_BUF_CMD_TX_COUNT=10

CONFIG_BT_SMP=y
#CONFIG_BT_BONDABLE=y

# Enable persistent CCC descriptor storage for notifications
CONFIG_BT_GATT_CACHING=y
#CONFIG_BT_GATT_CLIENT_CACHING=y  # (optional, more relevant for client)

# Enable Identity tracking
#CONFIG_BT_PRIVACY=y
#CONFIG_BT_ID_MAX=1

# Enable settings subsystem
CONFIG_SETTINGS=y
# Enable Bluetooth settings integration
CONFIG_BT_SETTINGS=y
# Enable system settings load at boot
#CONFIG_SETTINGS_LOAD_ON_BOOT=y

# Thread stack sizes
CONFIG_HEAP_MEM_POOL_SIZE=1024
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

#Additional bluetooth configs
CONFIG_BT_DEVICE_NAME="Zephyr_GATT_Server"
CONFIG_BT_DEVICE_APPEARANCE=0

#CONFIG_BT_DEBUG_LOG=y  # Optional, for debugging

# Enable logging
CONFIG_STDOUT_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_PRINTK=y       # Enables printk() to go to log
CONFIG_LOG_BACKEND_UART=y # Disable UART log backend

CONFIG_GPIO=y

CONFIG_BT_HCI=y
CONFIG_BT_HCI_ACL_FLOW_CONTROL=y
CONFIG_BT_CTLR=n       # If you're using an external controller

#PWM configs
CONFIG_GPIO=y
CONFIG_PWM=y
CONFIG_PWM_NRFX=y

# Enable persistent storage using flash
CONFIG_STREAM_FLASH=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# Enable MCUboot
CONFIG_BOOTLOADER_MCUBOOT=y

CONFIG_IMG_MANAGER=y
CONFIG_MCUBOOT_IMG_MANAGER=y
CONFIG_MCUBOOT_UPDATE_FOOTER_SIZE=0x1000

CONFIG_BOOTLOADER_MCUBOOT=y
CONFIG_IMG_MANAGER=y  




